# Vite 对比 Webpack 5 的优势
- 开发速度：
   - 即时热更新（HMR）： Vite 使用原生 ES 模块和现代浏览器支持，能够提供几乎即时的热模块替换，极大地提高了开发效率。
   - 快速冷启动： Vite 不需要像 Webpack 那样打包整个应用程序，冷启动时间非常快，尤其是在大型项目中表现尤为显著。

- 构建速度：
   - 基于 Rollup 的生产构建： Vite 在生产构建中使用 Rollup，生成更小更优化的打包文件，且构建速度相较于 Webpack 更快。
   - 现代 JavaScript 支持： Vite 默认支持 ES 模块、TypeScript、JSX 等现代 JavaScript 特性，并且不需要额外配置。

- 开发体验：
   - 配置简洁： Vite 的配置文件相对简洁明了，更易于理解和维护。
   - 插件生态： Vite 有一个成熟的插件生态系统，许多 Vite 插件都是直接基于 Rollup 插件构建的，能够很好地满足各种开发需求。

- 体积优化：
   - 模块预构建： Vite 使用 esbuild 预构建依赖项，极大地减少了依赖解析和转换时间。

# Vite 使用 esbuild 预构建依赖项
- 什么是预构建？
   - 在实际构建之前，将依赖项（通常是第三方库）提前编译和打包，以便在后续的开发和构建过程中能够更快速地使用这些依赖项。
- esbuild 的角色
   - 优势： 极快的编译速度：使用 Go 语言编写，并且高度优化，能够以极快的速度编译和打包 JavaScript 和 TypeScript 代码。
- Vite 的预构建流程
   1. 扫描依赖项：快速识别出需要优化的依赖项，并为后续的预构建做准备。
   2. 使用 esbuild 进行预构建：编译为 ES 模块格式，并进行优化和压缩, 将它们存储在一个缓存目录中。
   3. 缓存与复用：如果依赖项或配置发生变化，Vite 会智能地重新触发预构建，从而确保缓存的依赖项始终是最新和有效的。
- 优势与效果:
   1. 显著减少冷启动时间：
   2. 快速热更新：
   3. 减少浏览器请求：将多个依赖项打包成单个或少量的文件。

# webpack 对比 Vite 的预构建加载方式
- Vite 的预构建：Vite 在项目启动时使用 esbuild 对第三方依赖项进行预构建，将它们打包成单个或少量的文件，以减少浏览器请求数量。
- Webpack 的打包和代码分割：Webpack 通过将所有代码打包到一个或多个 bundle 文件中，并使用代码分割和动态导入来优化加载性能。Webpack 5 的持久化缓存机制类似于 Vite 的预构建缓存，但它侧重于缓存构建过程中的模块数据，而不是预先打包依赖项。